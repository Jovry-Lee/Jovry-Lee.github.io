---
title: DesignPattern-Factory
tags: ["DesignPattern","Singleton"]
categories: ["DesignPattern","Singleton"]
date: 2020-09-21 17:54:27
---

### 1 概述

当使用＂`new`＂实例化一个具体类，将会导致代码更加脆弱，缺乏弹性．例如：当有很多相关的具体类时（如下代码所示），究竟要实例化哪个类，要在运行时由一些条件来决定．一旦有变化扩者扩展，就需要重新对这段代码进行检查和修改．可能造成部分系统维护和更新的困扰，也容易出错．

<!--more-->

```java
Duck duck;

if (picnic) {
	duck = new MallardDuck();
} else if (hunting) {
	duck = new DecoyDuck();
} else if(inBathTub) {
	duck = new RubberDuck();
}
```



那么如何将实例化具体类的代码从应用总抽离，或者封装起来，使他们不会干扰应用的其他部分呢？

- 识别变化的方面．
- 封装创建对象的代码（该对象即为＂Factory，工厂＂）．



### 2 Factory（工厂模式）

根据应用场景和复杂度的不同，工厂模式可以分为以下三种：

- 简单工厂模式；
- 工厂方法模式；
- 抽象工厂模式；



#### 2.1 简单工厂模式

简单工厂模式，准确点来说，并不算是一种设计模式，反而比较像一种编程习惯．

`实现原理`：新建一个工厂类，在工厂类内定义一个实例化各种对象的方法，将识别出来变化的部分移植到该方法中．



##### 2.1.1 好处

简单工厂模式看似只是把问题搬到一个对象中了，并没有进行实际的解决，这样做的好处是什么？

- 将变化部分的代码封装起来，后续有改变时，只需要改动这一个类，避免对其他逻辑的影响．
- 可以有多个调用方































